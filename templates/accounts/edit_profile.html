{% extends 'base.html' %}
{% load static %}

{% block extra_css %}
<link href="{% static 'css/dashboard.css' %}" rel="stylesheet">
<link href="{% static 'css/profile.css' %}" rel="stylesheet">
{% endblock %}


{% block content %}

<section class="container my-5">
  <h4 class="mb-4">Welcome {{ user.full_name }}</h4>

  <div class="row">

    <!-- LEFT SIDEBAR -->
    <div class="col-md-3 dashboard-nav mb-3 mb-md-0">
      {% include 'accounts/dashboard_sidebar.html' %}
    </div>

    <!-- RIGHT CONTENT -->
    <div class="col-md-9 dashboard-details">
      <div class="card">
        <div class="card-body">

          <div class="card-title mb-3">
            <strong>Edit profile</strong>
          </div>

          <form action="{% url 'edit_profile' %}" method="POST" enctype="multipart/form-data">
            {% csrf_token %}

            {% if userprofile.profile_picture %}
              <img src="{{ userprofile.profile_picture.url }}" alt="Profile picture" height="80" width="80" style="border-radius: 10px;" class="mb-3">
            {% else %}
              <img src="{% static 'images/default-user.jpg' %}" alt="Default profile picture" height="80" width="80" style="border-radius: 10px;" class="mb-3">
            {% endif %}


            <div class="row">
              <div class="col-12 col-md-6">
                <div class="form-group">
                  <label>First name</label>
                  {{ user_form.first_name }}
                </div>
              </div>

              <div class="col-12 col-md-6">
                <div class="form-group">
                  <label>Last name</label>
                  {{ user_form.last_name }}
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col-12 col-md-6">
                <div class="form-group">
                  <label>Phone</label>
                  {{ user_form.phone_number }}
                </div>
              </div>

              <div class="col-12 col-md-6">
                <div class="form-group">
                  <label>Profile Picture</label>
                  {{ profile_form.profile_picture }}
                </div>
              </div>
            </div>

            <div class="form-group">
              <label>Address line 1</label>
              {{ profile_form.address_line1 }}
            </div>

            <div class="form-group">
              <label>Address line 2</label>
              {{ profile_form.address_line2 }}
            </div>

            <div class="row">
              <div class="col-12 col-md-4">
                <div class="form-group">
                  <label>City</label>
                  {{ profile_form.city }}
                </div>
              </div>

              <div class="col-12 col-md-4">
                <div class="form-group">
                  <label>State</label>
                  {{ profile_form.state }}
                </div>
              </div>

              <div class="col-12 col-md-4">
                <div class="form-group">
                  <label>Country</label>
                  {{ profile_form.country }}
                </div>
              </div>
            </div>

            <button type="submit" class="btn save-btn mt-2">Save</button>
          </form>

        </div>
      </div>
    </div>

  </div>
</section>

{% endblock %}
